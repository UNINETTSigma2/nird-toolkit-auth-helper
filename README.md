# nird-toolkit-auth-helper

## Installing nird-toolkit-auth-helper
You can download compiled binaries from the github release page.

### From source

```shell
$ go install github.com/UNINETTSigma2/nird-toolkit-auth-helper@latest
```

### Minimal kubeconfig

```yaml
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURORENDQWh5Z0F3SUJBZ0lVVGRTM3gzTmJqUmM5S0g3SmtqcGlPNkRDVC8wd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lERWVNQndHQTFVRUF4TVZUa2xTUkMxVFVDQkxkV0psY201bGRHVnpJRU5CTUI0WERURTVNRGt3T1RFdwpNVGd3TUZvWERUSTBNRGt3TnpFd01UZ3dNRm93SURFZU1Cd0dBMVVFQXhNVlRrbFNSQzFUVUNCTGRXSmxjbTVsCmRHVnpJRU5CTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2RThwNnFaUnowSk8KSFdTcytyK0V6U3F2UE5DNUUyd2VuOUI5cFVpN213dE0yMVZVNW9UaS9aNjdVcUM4YURFbnF3NGRpV0JpZmZlWgp3WlNMV1I4WGh1cUZ2MXZ0MU5CTGZaVlBLSEprdmJ6RGRUQU1wMTVCRnRRTTF5Wkt3RE53YTNJSUR3UU9LamFuCkdWYmlEU1JxUUkydFRDU3RtTlp1ckY5T1ppUWdkWUZjQjlURjY0aVNVRVNGSFp4N0Rjemlud1RwOUtZTXlVVTgKNDBTT1Vmd3JhWEFSSW5VbEpkcnNYSGZKenlBL1B5aDh5VjJCSkRtWUxOWFZRSGZmdGhJT05lRFpmeWZCdDhqOAowTWlEWnBpd2hsaTlHdFhRa2p1YjdLRlVTaTBOWnEwdlQvbTlodWpvbWgyY3czeW1RRVUvV05vQVl1QzdzbWlrCjBRYlM0MEV6NndJREFRQUJvMll3WkRBT0JnTlZIUThCQWY4RUJBTUNBUVl3RWdZRFZSMFRBUUgvQkFnd0JnRUIKL3dJQkFqQWRCZ05WSFE0RUZnUVVDa3JGVzdIRk5XdUJkOG5jL0dGWXUreENNOWd3SHdZRFZSMGpCQmd3Rm9BVQpDa3JGVzdIRk5XdUJkOG5jL0dGWXUreENNOWd3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVWd2JOdEdSTk1GClV1ZEQ0NFRzQlNEZEtoTFVkRTFMbHRnd2R0b3hTMUI2WnRiOXozMkZ4c1FUSnFaTTNuL1B5bFMvdnBURzd5RUcKTVpQYW4yRlYwT3o0ck9jWFJtUCtrWCs1K1RaOGRuV2hEMDB4eUhzTkx4TjRHSTRaMU1yb2Q4ZTVXRG1DMmwwMAp5SEtEZzYrdy9lNnlFdzBDUjcrdnRISlg2SFV3eG1iNHJpeldlR1BzcFRoZ0NlR3RPQWkwb1Nxa05SYWpYalFnCnNKZTlkaUZ0cWVjY1pzYTlDeVdWQXUzaGxXTE1FeHdYUVFyOEFMa0d6Wk9ETTVWclY3ek1xS2JERGxUeTNuNEEKZzBySGwxK2pWMjhoUjZIc1lpaUk5NGJDWC94N2ROWGs0MW0xc0dtYUUwM3VLQlBuRXJiWTlEUmZsanhyQ2QzMAoza0ZKdUR5bDZFTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://api.nird.sigma2.no
  name: nird-tos
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURORENDQWh5Z0F3SUJBZ0lVVGRTM3gzTmJqUmM5S0g3SmtqcGlPNkRDVC8wd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lERWVNQndHQTFVRUF4TVZUa2xTUkMxVFVDQkxkV0psY201bGRHVnpJRU5CTUI0WERURTVNRGt3T1RFdwpNVGd3TUZvWERUSTBNRGt3TnpFd01UZ3dNRm93SURFZU1Cd0dBMVVFQXhNVlRrbFNSQzFUVUNCTGRXSmxjbTVsCmRHVnpJRU5CTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2RThwNnFaUnowSk8KSFdTcytyK0V6U3F2UE5DNUUyd2VuOUI5cFVpN213dE0yMVZVNW9UaS9aNjdVcUM4YURFbnF3NGRpV0JpZmZlWgp3WlNMV1I4WGh1cUZ2MXZ0MU5CTGZaVlBLSEprdmJ6RGRUQU1wMTVCRnRRTTF5Wkt3RE53YTNJSUR3UU9LamFuCkdWYmlEU1JxUUkydFRDU3RtTlp1ckY5T1ppUWdkWUZjQjlURjY0aVNVRVNGSFp4N0Rjemlud1RwOUtZTXlVVTgKNDBTT1Vmd3JhWEFSSW5VbEpkcnNYSGZKenlBL1B5aDh5VjJCSkRtWUxOWFZRSGZmdGhJT05lRFpmeWZCdDhqOAowTWlEWnBpd2hsaTlHdFhRa2p1YjdLRlVTaTBOWnEwdlQvbTlodWpvbWgyY3czeW1RRVUvV05vQVl1QzdzbWlrCjBRYlM0MEV6NndJREFRQUJvMll3WkRBT0JnTlZIUThCQWY4RUJBTUNBUVl3RWdZRFZSMFRBUUgvQkFnd0JnRUIKL3dJQkFqQWRCZ05WSFE0RUZnUVVDa3JGVzdIRk5XdUJkOG5jL0dGWXUreENNOWd3SHdZRFZSMGpCQmd3Rm9BVQpDa3JGVzdIRk5XdUJkOG5jL0dGWXUreENNOWd3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVWd2JOdEdSTk1GClV1ZEQ0NFRzQlNEZEtoTFVkRTFMbHRnd2R0b3hTMUI2WnRiOXozMkZ4c1FUSnFaTTNuL1B5bFMvdnBURzd5RUcKTVpQYW4yRlYwT3o0ck9jWFJtUCtrWCs1K1RaOGRuV2hEMDB4eUhzTkx4TjRHSTRaMU1yb2Q4ZTVXRG1DMmwwMAp5SEtEZzYrdy9lNnlFdzBDUjcrdnRISlg2SFV3eG1iNHJpeldlR1BzcFRoZ0NlR3RPQWkwb1Nxa05SYWpYalFnCnNKZTlkaUZ0cWVjY1pzYTlDeVdWQXUzaGxXTE1FeHdYUVFyOEFMa0d6Wk9ETTVWclY3ek1xS2JERGxUeTNuNEEKZzBySGwxK2pWMjhoUjZIc1lpaUk5NGJDWC94N2ROWGs0MW0xc0dtYUUwM3VLQlBuRXJiWTlEUmZsanhyQ2QzMAoza0ZKdUR5bDZFTT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    server: https://api.nird-trd.sigma2.no
  name: nird-trd
contexts:
- context:
    cluster: nird-tos
    user: nird-toolkit-cli
  name: nird-tos
- context:
    cluster: nird-trd
    user: nird-toolkit-cli
  name: nird-trd
current-context: nird-tos
kind: Config
preferences: {}
users:
- name: nird-toolkit-cli
  user:
    exec:
      apiVersion: client.authentication.k8s.io/v1beta1
      args:
      - login
      - --client-id
      - nird-toolkit-cli
      command: nird-toolkit-auth-helper
      env: null
      installHint: |-
        nird-toolkit-auth-helper is required to authenticate to the current cluster. It can be installed:

        https://github.com/uninettsigma2/nird-toolkit-auth-helper
      interactiveMode: Always
      provideClusterInfo: true
```

```shell
$ kubectl config use-context nird-trd
$Â kubectl get ns
```
